<div class="umb-container">
  <div class="simulator">
    <div>
      <h3>PROPIEDADES:</h3>
      <table>
        <tr>
          <td>
            <mat-form-field appearance="outline">
              <mat-label>Tasa de aprendizaje</mat-label>
              <input matInput type="text" [(ngModel)]="neuron.trainingRate" [disabled]="playing">
            </mat-form-field>
          </td>
        </tr>
        <tr>
          <td>
            <mat-form-field appearance="outline">
              <mat-label>Sesgo</mat-label>
              <input matInput type="text" [(ngModel)]="neuron.bias" [disabled]="true">
            </mat-form-field>
          </td>
        </tr>
        <tr>
          <td>
            <mat-form-field appearance="outline">
              <mat-label>NÃºmero de pesos</mat-label>
              <input matInput type="text" [(ngModel)]="neuron.weightNum" disabled>
            </mat-form-field>
          </td>
        </tr>
        <tr *ngFor="let w of neuron.weights; let $i = index">
          <td>
            <mat-form-field appearance="outline">
              <mat-label>Peso #{{ $i + 1 }}</mat-label>
              <input matInput type="text" [(ngModel)]="neuron.weights[$i]" [disabled]="true">
            </mat-form-field>
          </td>
        </tr>
      </table>
    </div>

    <!-- graph simulator -->
    <div class="graph-simulator">
      <h3>ENTRENAMIENTO:</h3>

      <div class="controls">

        <button mat-mini-fab color="umb-light" (click)="reset()">
          <fa-icon [icon]="['fas', 'rotate-left']"></fa-icon>
        </button>
        <button mat-fab color="umb" class="play" *ngIf="!playing" (click)="startSimulation()">
          <fa-icon [icon]="['fas', 'play']"></fa-icon>
        </button>
        <button mat-fab color="umb" class="play" *ngIf="playing" (click)="stopSimulation()">
          <fa-icon [icon]="['fas', 'pause']"></fa-icon>
        </button>
        <div class="timing">
          <strong>ENTRENANDO: {{ trainIteration }}</strong>
        </div>

      </div>

      <div class="graph">

        <!-- Training rate -->
        <!--suppress TypeScriptValidateTypes -->
        <canvas
          class="chart-box"
          baseChart
          [datasets]="lineChartData.datasets"
          [labels]="lineChartData.labels"
          [type]="'line'"
          [options]="{animation:{duration:0},scales:{x:{grid:{display:false}},y:{grid:{display:false}}}}"
        ></canvas>

        <strong>PORCENTAJE DE ERROR: {{ errorPer() }}%</strong>

      </div>

    </div>
    <div class="do-hack">

      <h3>PROBEMOS:</h3>
    </div>

    <div class="gates-container">

      <div>
        <h3>COMPUERTA AND:</h3>
        <table mat-table [dataSource]="gates" class="mat-elevation-z4 gate-box center">
          <ng-container matColumnDef="x1">
            <th mat-header-cell *matHeaderCellDef> X1</th>
            <td mat-cell *matCellDef="let element"> {{element.x1}} </td>
          </ng-container>
          <ng-container matColumnDef="x2">
            <th mat-header-cell *matHeaderCellDef> X2</th>
            <td mat-cell *matCellDef="let element"> {{element.x2}} </td>
          </ng-container>
          <ng-container matColumnDef="output">
            <th mat-header-cell *matHeaderCellDef> Y</th>
            <td mat-cell *matCellDef="let element"> {{element[ 'expectedOutput' ]}} </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>

    </div>
  </div>
</div>
